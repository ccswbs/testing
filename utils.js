/**
 * List of valid TLDs for RandomDomain to pull from
 * @type {Array}
 */
var tlds = ["AAA","AARP","ABARTH","ABB","ABBOTT","ABBVIE","ABC","ABLE","ABOGADO","ABUDHABI","AC","ACADEMY","ACCENTURE","ACCOUNTANT","ACCOUNTANTS","ACO","ACTIVE","ACTOR","AD","ADAC","ADS","ADULT","AE","AEG","AERO","AETNA","AF","AFAMILYCOMPANY","AFL","AFRICA","AG","AGAKHAN","AGENCY","AI","AIG","AIGO","AIRBUS","AIRFORCE","AIRTEL","AKDN","AL","ALFAROMEO","ALIBABA","ALIPAY","ALLFINANZ","ALLSTATE","ALLY","ALSACE","ALSTOM","AM","AMERICANEXPRESS","AMERICANFAMILY","AMEX","AMFAM","AMICA","AMSTERDAM","ANALYTICS","ANDROID","ANQUAN","ANZ","AO","AOL","APARTMENTS","APP","APPLE","AQ","AQUARELLE","AR","ARAMCO","ARCHI","ARMY","ARPA","ART","ARTE","AS","ASDA","ASIA","ASSOCIATES","AT","ATHLETA","ATTORNEY","AU","AUCTION","AUDI","AUDIBLE","AUDIO","AUSPOST","AUTHOR","AUTO","AUTOS","AVIANCA","AW","AWS","AX","AXA","AZ","AZURE","BA","BABY","BAIDU","BANAMEX","BANANAREPUBLIC","BAND","BANK","BAR","BARCELONA","BARCLAYCARD","BARCLAYS","BAREFOOT","BARGAINS","BASEBALL","BASKETBALL","BAUHAUS","BAYERN","BB","BBC","BBT","BBVA","BCG","BCN","BD","BE","BEATS","BEAUTY","BEER","BENTLEY","BERLIN","BEST","BESTBUY","BET","BF","BG","BH","BHARTI","BI","BIBLE","BID","BIKE","BING","BINGO","BIO","BIZ","BJ","BLACK","BLACKFRIDAY","BLANCO","BLOCKBUSTER","BLOG","BLOOMBERG","BLUE","BM","BMS","BMW","BN","BNL","BNPPARIBAS","BO","BOATS","BOEHRINGER","BOFA","BOM","BOND","BOO","BOOK","BOOKING","BOOTS","BOSCH","BOSTIK","BOSTON","BOT","BOUTIQUE","BOX","BR","BRADESCO","BRIDGESTONE","BROADWAY","BROKER","BROTHER","BRUSSELS","BS","BT","BUDAPEST","BUGATTI","BUILD","BUILDERS","BUSINESS","BUY","BUZZ","BV","BW","BY","BZ","BZH","CA","CAB","CAFE","CAL","CALL","CALVINKLEIN","CAM","CAMERA","CAMP","CANCERRESEARCH","CANON","CAPETOWN","CAPITAL","CAPITALONE","CAR","CARAVAN","CARDS","CARE","CAREER","CAREERS","CARS","CARTIER","CASA","CASE","CASEIH","CASH","CASINO","CAT","CATERING","CATHOLIC","CBA","CBN","CBRE","CBS","CC","CD","CEB","CENTER","CEO","CERN","CF","CFA","CFD","CG","CH","CHANEL","CHANNEL","CHASE","CHAT","CHEAP","CHINTAI","CHLOE","CHRISTMAS","CHROME","CHRYSLER","CHURCH","CI","CIPRIANI","CIRCLE","CISCO","CITADEL","CITI","CITIC","CITY","CITYEATS","CK","CL","CLAIMS","CLEANING","CLICK","CLINIC","CLINIQUE","CLOTHING","CLOUD","CLUB","CLUBMED","CM","CN","CO","COACH","CODES","COFFEE","COLLEGE","COLOGNE","COM","COMCAST","COMMBANK","COMMUNITY","COMPANY","COMPARE","COMPUTER","COMSEC","CONDOS","CONSTRUCTION","CONSULTING","CONTACT","CONTRACTORS","COOKING","COOKINGCHANNEL","COOL","COOP","CORSICA","COUNTRY","COUPON","COUPONS","COURSES","CR","CREDIT","CREDITCARD","CREDITUNION","CRICKET","CROWN","CRS","CRUISE","CRUISES","CSC","CU","CUISINELLA","CV","CW","CX","CY","CYMRU","CYOU","CZ","DABUR","DAD","DANCE","DATA","DATE","DATING","DATSUN","DAY","DCLK","DDS","DE","DEAL","DEALER","DEALS","DEGREE","DELIVERY","DELL","DELOITTE","DELTA","DEMOCRAT","DENTAL","DENTIST","DESI","DESIGN","DEV","DHL","DIAMONDS","DIET","DIGITAL","DIRECT","DIRECTORY","DISCOUNT","DISCOVER","DISH","DIY","DJ","DK","DM","DNP","DO","DOCS","DOCTOR","DODGE","DOG","DOHA","DOMAINS","DOT","DOWNLOAD","DRIVE","DTV","DUBAI","DUCK","DUNLOP","DUNS","DUPONT","DURBAN","DVAG","DVR","DZ","EARTH","EAT","EC","ECO","EDEKA","EDU","EDUCATION","EE","EG","EMAIL","EMERCK","ENERGY","ENGINEER","ENGINEERING","ENTERPRISES","EPOST","EPSON","EQUIPMENT","ER","ERICSSON","ERNI","ES","ESQ","ESTATE","ESURANCE","ET","EU","EUROVISION","EUS","EVENTS","EVERBANK","EXCHANGE","EXPERT","EXPOSED","EXPRESS","EXTRASPACE","FAGE","FAIL","FAIRWINDS","FAITH","FAMILY","FAN","FANS","FARM","FARMERS","FASHION","FAST","FEDEX","FEEDBACK","FERRARI","FERRERO","FI","FIAT","FIDELITY","FIDO","FILM","FINAL","FINANCE","FINANCIAL","FIRE","FIRESTONE","FIRMDALE","FISH","FISHING","FIT","FITNESS","FJ","FK","FLICKR","FLIGHTS","FLIR","FLORIST","FLOWERS","FLY","FM","FO","FOO","FOOD","FOODNETWORK","FOOTBALL","FORD","FOREX","FORSALE","FORUM","FOUNDATION","FOX","FR","FREE","FRESENIUS","FRL","FROGANS","FRONTDOOR","FRONTIER","FTR","FUJITSU","FUJIXEROX","FUN","FUND","FURNITURE","FUTBOL","FYI","GA","GAL","GALLERY","GALLO","GALLUP","GAME","GAMES","GAP","GARDEN","GB","GBIZ","GD","GDN","GE","GEA","GENT","GENTING","GEORGE","GF","GG","GGEE","GH","GI","GIFT","GIFTS","GIVES","GIVING","GL","GLADE","GLASS","GLE","GLOBAL","GLOBO","GM","GMAIL","GMBH","GMO","GMX","GN","GODADDY","GOLD","GOLDPOINT","GOLF","GOO","GOODHANDS","GOODYEAR","GOOG","GOOGLE","GOP","GOT","GOV","GP","GQ","GR","GRAINGER","GRAPHICS","GRATIS","GREEN","GRIPE","GROUP","GS","GT","GU","GUARDIAN","GUCCI","GUGE","GUIDE","GUITARS","GURU","GW","GY","HAIR","HAMBURG","HANGOUT","HAUS","HBO","HDFC","HDFCBANK","HEALTH","HEALTHCARE","HELP","HELSINKI","HERE","HERMES","HGTV","HIPHOP","HISAMITSU","HITACHI","HIV","HK","HKT","HM","HN","HOCKEY","HOLDINGS","HOLIDAY","HOMEDEPOT","HOMEGOODS","HOMES","HOMESENSE","HONDA","HONEYWELL","HORSE","HOSPITAL","HOST","HOSTING","HOT","HOTELES","HOTMAIL","HOUSE","HOW","HR","HSBC","HT","HTC","HU","HUGHES","HYATT","HYUNDAI","IBM","ICBC","ICE","ICU","ID","IE","IEEE","IFM","IKANO","IL","IM","IMAMAT","IMDB","IMMO","IMMOBILIEN","IN","INDUSTRIES","INFINITI","INFO","ING","INK","INSTITUTE","INSURANCE","INSURE","INT","INTEL","INTERNATIONAL","INTUIT","INVESTMENTS","IO","IPIRANGA","IQ","IR","IRISH","IS","ISELECT","ISMAILI","IST","ISTANBUL","IT","ITAU","ITV","IVECO","IWC","JAGUAR","JAVA","JCB","JCP","JE","JEEP","JETZT","JEWELRY","JIO","JLC","JLL","JM","JMP","JNJ","JO","JOBS","JOBURG","JOT","JOY","JP","JPMORGAN","JPRS","JUEGOS","JUNIPER","KAUFEN","KDDI","KE","KERRYHOTELS","KERRYLOGISTICS","KERRYPROPERTIES","KFH","KG","KH","KI","KIA","KIM","KINDER","KINDLE","KITCHEN","KIWI","KM","KN","KOELN","KOMATSU","KOSHER","KP","KPMG","KPN","KR","KRD","KRED","KUOKGROUP","KW","KY","KYOTO","KZ","LA","LACAIXA","LADBROKES","LAMBORGHINI","LAMER","LANCASTER","LANCIA","LANCOME","LAND","LANDROVER","LANXESS","LASALLE","LAT","LATINO","LATROBE","LAW","LAWYER","LB","LC","LDS","LEASE","LECLERC","LEFRAK","LEGAL","LEGO","LEXUS","LGBT","LI","LIAISON","LIDL","LIFE","LIFEINSURANCE","LIFESTYLE","LIGHTING","LIKE","LILLY","LIMITED","LIMO","LINCOLN","LINDE","LINK","LIPSY","LIVE","LIVING","LIXIL","LK","LOAN","LOANS","LOCKER","LOCUS","LOFT","LOL","LONDON","LOTTE","LOTTO","LOVE","LPL","LPLFINANCIAL","LR","LS","LT","LTD","LTDA","LU","LUNDBECK","LUPIN","LUXE","LUXURY","LV","LY","MA","MACYS","MADRID","MAIF","MAISON","MAKEUP","MAN","MANAGEMENT","MANGO","MARKET","MARKETING","MARKETS","MARRIOTT","MARSHALLS","MASERATI","MATTEL","MBA","MC","MCD","MCDONALDS","MCKINSEY","MD","ME","MED","MEDIA","MEET","MELBOURNE","MEME","MEMORIAL","MEN","MENU","MEO","METLIFE","MG","MH","MIAMI","MICROSOFT","MIL","MINI","MINT","MIT","MITSUBISHI","MK","ML","MLB","MLS","MM","MMA","MN","MO","MOBI","MOBILE","MOBILY","MODA","MOE","MOI","MOM","MONASH","MONEY","MONSTER","MONTBLANC","MOPAR","MORMON","MORTGAGE","MOSCOW","MOTO","MOTORCYCLES","MOV","MOVIE","MOVISTAR","MP","MQ","MR","MS","MSD","MT","MTN","MTPC","MTR","MU","MUSEUM","MUTUAL","MV","MW","MX","MY","MZ","NA","NAB","NADEX","NAGOYA","NAME","NATIONWIDE","NATURA","NAVY","NBA","NC","NE","NEC","NET","NETBANK","NETFLIX","NETWORK","NEUSTAR","NEW","NEWHOLLAND","NEWS","NEXT","NEXTDIRECT","NEXUS","NF","NFL","NG","NGO","NHK","NI","NICO","NIKE","NIKON","NINJA","NISSAN","NISSAY","NL","NO","NOKIA","NORTHWESTERNMUTUAL","NORTON","NOW","NOWRUZ","NOWTV","NP","NR","NRA","NRW","NTT","NU","NYC","NZ","OBI","OBSERVER","OFF","OFFICE","OKINAWA","OLAYAN","OLAYANGROUP","OLDNAVY","OLLO","OM","OMEGA","ONE","ONG","ONL","ONLINE","ONYOURSIDE","OOO","OPEN","ORACLE","ORANGE","ORG","ORGANIC","ORIENTEXPRESS","ORIGINS","OSAKA","OTSUKA","OTT","OVH","PA","PAGE","PAMPEREDCHEF","PANASONIC","PANERAI","PARIS","PARS","PARTNERS","PARTS","PARTY","PASSAGENS","PAY","PCCW","PE","PET","PF","PFIZER","PG","PH","PHARMACY","PHILIPS","PHONE","PHOTO","PHOTOGRAPHY","PHOTOS","PHYSIO","PIAGET","PICS","PICTET","PICTURES","PID","PIN","PING","PINK","PIONEER","PIZZA","PK","PL","PLACE","PLAY","PLAYSTATION","PLUMBING","PLUS","PM","PN","PNC","POHL","POKER","POLITIE","PORN","POST","PR","PRAMERICA","PRAXI","PRESS","PRIME","PRO","PROD","PRODUCTIONS","PROF","PROGRESSIVE","PROMO","PROPERTIES","PROPERTY","PROTECTION","PRU","PRUDENTIAL","PS","PT","PUB","PW","PWC","PY","QA","QPON","QUEBEC","QUEST","QVC","RACING","RADIO","RAID","RE","READ","REALESTATE","REALTOR","REALTY","RECIPES","RED","REDSTONE","REDUMBRELLA","REHAB","REISE","REISEN","REIT","RELIANCE","REN","RENT","RENTALS","REPAIR","REPORT","REPUBLICAN","REST","RESTAURANT","REVIEW","REVIEWS","REXROTH","RICH","RICHARDLI","RICOH","RIGHTATHOME","RIL","RIO","RIP","RMIT","RO","ROCHER","ROCKS","RODEO","ROGERS","ROOM","RS","RSVP","RU","RUHR","RUN","RW","RWE","RYUKYU","SA","SAARLAND","SAFE","SAFETY","SAKURA","SALE","SALON","SAMSCLUB","SAMSUNG","SANDVIK","SANDVIKCOROMANT","SANOFI","SAP","SAPO","SARL","SAS","SAVE","SAXO","SB","SBI","SBS","SC","SCA","SCB","SCHAEFFLER","SCHMIDT","SCHOLARSHIPS","SCHOOL","SCHULE","SCHWARZ","SCIENCE","SCJOHNSON","SCOR","SCOT","SD","SE","SEAT","SECURE","SECURITY","SEEK","SELECT","SENER","SERVICES","SES","SEVEN","SEW","SEX","SEXY","SFR","SG","SH","SHANGRILA","SHARP","SHAW","SHELL","SHIA","SHIKSHA","SHOES","SHOP","SHOPPING","SHOUJI","SHOW","SHOWTIME","SHRIRAM","SI","SILK","SINA","SINGLES","SITE","SJ","SK","SKI","SKIN","SKY","SKYPE","SL","SLING","SM","SMART","SMILE","SN","SNCF","SO","SOCCER","SOCIAL","SOFTBANK","SOFTWARE","SOHU","SOLAR","SOLUTIONS","SONG","SONY","SOY","SPACE","SPIEGEL","SPOT","SPREADBETTING","SR","SRL","SRT","ST","STADA","STAPLES","STAR","STARHUB","STATEBANK","STATEFARM","STATOIL","STC","STCGROUP","STOCKHOLM","STORAGE","STORE","STREAM","STUDIO","STUDY","STYLE","SU","SUCKS","SUPPLIES","SUPPLY","SUPPORT","SURF","SURGERY","SUZUKI","SV","SWATCH","SWIFTCOVER","SWISS","SX","SY","SYDNEY","SYMANTEC","SYSTEMS","SZ","TAB","TAIPEI","TALK","TAOBAO","TARGET","TATAMOTORS","TATAR","TATTOO","TAX","TAXI","TC","TCI","TD","TDK","TEAM","TECH","TECHNOLOGY","TEL","TELECITY","TELEFONICA","TEMASEK","TENNIS","TEVA","TF","TG","TH","THD","THEATER","THEATRE","TIAA","TICKETS","TIENDA","TIFFANY","TIPS","TIRES","TIROL","TJ","TJMAXX","TJX","TK","TKMAXX","TL","TM","TMALL","TN","TO","TODAY","TOKYO","TOOLS","TOP","TORAY","TOSHIBA","TOTAL","TOURS","TOWN","TOYOTA","TOYS","TR","TRADE","TRADING","TRAINING","TRAVEL","TRAVELCHANNEL","TRAVELERS","TRAVELERSINSURANCE","TRUST","TRV","TT","TUBE","TUI","TUNES","TUSHU","TV","TVS","TW","TZ","UA","UBANK","UBS","UCONNECT","UG","UK","UNICOM","UNIVERSITY","UNO","UOL","UPS","US","UY","UZ","VA","VACATIONS","VANA","VANGUARD","VC","VE","VEGAS","VENTURES","VERISIGN","VERSICHERUNG","VET","VG","VI","VIAJES","VIDEO","VIG","VIKING","VILLAS","VIN","VIP","VIRGIN","VISA","VISION","VISTA","VISTAPRINT","VIVA","VIVO","VLAANDEREN","VN","VODKA","VOLKSWAGEN","VOLVO","VOTE","VOTING","VOTO","VOYAGE","VU","VUELOS","WALES","WALMART","WALTER","WANG","WANGGOU","WARMAN","WATCH","WATCHES","WEATHER","WEATHERCHANNEL","WEBCAM","WEBER","WEBSITE","WED","WEDDING","WEIBO","WEIR","WF","WHOSWHO","WIEN","WIKI","WILLIAMHILL","WIN","WINDOWS","WINE","WINNERS","WME","WOLTERSKLUWER","WOODSIDE","WORK","WORKS","WORLD","WOW","WS","WTC","WTF","XBOX","XEROX","XFINITY","XIHUAN","XIN"];

/**
 * Probability table for Markov Chain-based RandomName generator
 * @type {string}
 */
var prob = JSON.parse('{"^":{"a":0.09534306703496889,"i":0.06929559496845826,"w":0.06642089160130384,"l":0.03278069981026309,"c":0.038293340829112454,"t":0.14093290016378998,"m":0.06120447800727595,"f":0.04054639905293714,"e":0.020944576281264695,"d":0.0329958430859546,"r":0.015989794208429508,"b":0.05004513684301568,"g":0.02325169060450936,"v":0.006448892660803382,"o":0.04837264112696156,"s":0.07402117917975275,"h":0.06733011519354787,"n":0.029568686382727995,"p":0.03039790694783046,"u":0.01015065434908348,"q":0.0027719967782564746,"j":0.0037547366657116757,"k":0.010530128167011725,"y":0.02850161898017763,"z":0.00008648975907196489,"x":0.0000194601957911921,"$":0.0000010811219883995612},"a":{"l":0.07950903031137037,"d":0.03662134449437976,"n":0.21067593919601532,"r":0.11942632937393645,"p":0.012270885846526662,"b":0.012495762583867276,"s":0.07283321194464676,"v":0.03683615212407826,"t":0.12727016422714565,"$":0.06979905417515549,"y":0.0392829452811127,"k":0.023739599450897996,"i":0.038732500730010305,"f":0.00785054759163727,"c":0.029186986685283328,"g":0.01807069184838609,"w":0.009273648138389816,"m":0.03257020685303466,"a":0.00033228055218986307,"u":0.013975921407258484,"h":0.0013257658395454135,"z":0.0010941763637767209,"x":0.0008458050419378333,"o":0.0002550840602669656,"j":0.0014700897157490912,"e":0.003802766319506211,"q":0.00045310984389526784},"l":{"i":0.09090336795719232,"a":0.07463873866140155,"e":0.14348012704953214,"l":0.18238475405614216,"$":0.18694022376741923,"c":0.0038687154834463615,"d":0.06775975047929722,"y":0.041348327467307634,"o":0.11354908861991014,"f":0.015720948865424786,"v":0.005871748647952614,"r":0.0010129624860503047,"k":0.006249463473259507,"s":0.020986064612126935,"t":0.014347440409763356,"m":0.0032792514378916647,"p":0.004074741751795576,"w":0.0006524165164391794,"u":0.018536641199530718,"g":0.00046355910378573266,"b":0.0025753283543651817,"n":0.001156036283515037,"h":0.00017741150885626806,"z":0.000017168855695767877,"q":0.0000057229518985892926},"i":{"c":0.04099363680861478,"n":0.21341547356828194,"s":0.14301884483602545,"l":0.06741005873715125,"u":0.009667156142927067,"t":0.1179370105237396,"o":0.038408590308370044,"$":0.08280944077337249,"r":0.046679974302496326,"d":0.030615210474791973,"e":0.040278542584434654,"m":0.039762298091042585,"g":0.027242413117963778,"k":0.009518018844836025,"p":0.0078660364659814,"f":0.024932697014194812,"v":0.021793165687714146,"a":0.022676517376407246,"b":0.007846916299559472,"x":0.0017667033773861968,"z":0.002810664464023495,"i":0.002022913607440039,"q":0.0003097466960352423,"h":0.00008412873225648555,"w":0.00013384116495349975},"c":{"e":0.1956416144131414,"a":0.11729444493508788,"r":0.034321734522653004,"h":0.18290205775854457,"t":0.05146604256822397,"o":0.20197827430892873,"k":0.05870793959198092,"l":0.0414973946833878,"c":0.008621831670052106,"u":0.03254437869822485,"y":0.008908858076481499,"i":0.042071447496246576,"$":0.013865583325973681,"s":0.000938355559480703,"d":0.004415790868144484,"n":0.000044157908681444845,"v":0.000022078954340722422,"q":0.0013688951691247903,"m":0.00015455268038505696,"x":0.000011039477170361211,"b":0.0032124878565751125,"w":0.000011039477170361211},"e":{"s":0.07807881452673522,"n":0.08758013620441948,"r":0.1315948244056791,"w":0.005952975185447222,"$":0.37068175997986014,"d":0.03429634227328562,"g":0.004746320353836338,"t":0.03488013750656498,"e":0.039700246105499826,"p":0.008937058626930974,"a":0.06224038474059091,"l":0.0402797008537734,"y":0.011951525463455287,"m":0.018839875167651232,"v":0.012198933108785576,"f":0.008431392123755908,"i":0.012031824436062486,"x":0.009436214402597346,"b":0.0018772597650061418,"o":0.0036568586173819063,"h":0.001616830664658469,"c":0.013976361718658443,"k":0.0016385330896874417,"u":0.004214610940626505,"z":0.00021268376528393282,"q":0.0008181814235922722,"j":0.00013021455017383642},"s":{"$":0.41458144969059335,"i":0.05098458250648756,"t":0.12927366735945578,"h":0.06584236503332824,"a":0.03546923742313759,"e":0.10439979803435764,"o":0.05615897357616179,"l":0.007522828771493097,"u":0.025860213159862068,"y":0.0027789846138189904,"s":0.04034224565441174,"c":0.01338609490036753,"k":0.0027907268023280845,"p":0.02267416601106114,"w":0.01226275886633084,"m":0.003362179976437342,"q":0.00043054691200012523,"n":0.0011233360340366905,"r":0.00017613282763641487,"d":0.0061489927159290615,"g":0.0007162734990547538,"b":0.0028964064989099336,"z":0.000003914062836364775,"f":0.0007515000645820368,"v":0.00002348437701818865,"j":0.00003914062836364775},"d":{"v":0.0028174852486835544,"e":0.11120322812562745,"$":0.5756025208396753,"i":0.06776213947523528,"o":0.07500987739081436,"a":0.036640262188052566,"d":0.005486000012953955,"s":0.04275452902657504,"g":0.005952342398942957,"r":0.02192456911906628,"y":0.015888026011541975,"n":0.0030506564416780554,"l":0.007079336498416379,"h":0.00034975678949175155,"u":0.019009929206635016,"b":0.0003821416774076545,"w":0.0033809822984202653,"j":0.0001230625740804311,"f":0.001638675328544688,"k":0.0003044179464094875,"m":0.0027008996521863038,"c":0.00039509563257401567,"t":0.0003238488791590292,"p":0.00022021723782813987},"v":{"e":0.6981387478849408,"i":0.15249251594429258,"o":0.0465443186255369,"a":0.062007028504490434,"u":0.0014317323961994012,"$":0.006612000520629963,"y":0.009241181830014317,"m":0.00015618898867629833,"s":0.0018742678641155799,"r":0.0007549134452687753,"d":0.019705844071326306,"n":0.0009371339320577899,"l":0.00010412599245086554},"n":{"t":0.08916085313131797,"$":0.2407083323344441,"d":0.18747552721373834,"n":0.008670358561279857,"i":0.027229720550747568,"c":0.04108631202103261,"g":0.09952932339238767,"k":0.012254373137071577,"o":0.10726472162954795,"v":0.0022295207729005344,"s":0.036779101638977456,"l":0.005941393170794077,"a":0.023497870368150618,"e":0.08425830476510121,"y":0.012442164313283629,"w":0.0009709203365857167,"p":0.0004674801620597895,"u":0.004926521707860859,"x":0.0000839066957543212,"q":0.001250609322433454,"b":0.0016781339150864238,"f":0.004934512821742222,"h":0.0009869025643484445,"j":0.0012346270946707262,"r":0.003120529970672612,"m":0.001142729285035041,"z":0.0006752491229752516},"t":{"u":0.014697589172423517,"h":0.3433373278819493,"i":0.048428027632877485,"e":0.075620329902721,"o":0.08966586775694346,"$":0.29226291179096764,"t":0.013787067061422058,"w":0.006126932656609803,"r":0.03354833403825368,"s":0.019502796184031203,"c":0.00444980967150712,"a":0.03146881902345035,"p":0.00017623008600028197,"y":0.011895530805019032,"m":0.0007166690164011467,"l":0.011275788335918042,"f":0.0004875699046007801,"g":0.00012629822830020207,"n":0.0012923539640020678,"v":0.000029371681000046993,"b":0.0008547159171013675,"x":0.000011748672400018797,"d":0.00004699468960007519,"z":0.00011748672400018797,"k":0.0000058743362000093985,"j":0.00006461769820010339,"q":0.0000029371681000046993},"u":{"r":0.17906581580636635,"m":0.02215761054261224,"l":0.07832194237812937,"t":0.11165653438054601,"s":0.1467885058339312,"g":0.03220178982743647,"p":0.030940603405958538,"b":0.010610580372314314,"d":0.017158176943699734,"c":0.04947324698863422,"i":0.016735264131707134,"a":0.009017105312842201,"n":0.08581354076199826,"e":0.038477513876826644,"$":0.150685345315863,"z":0.0003549446814937885,"o":0.002741381263452026,"f":0.007008269455877355,"v":0.000188800362496696,"h":0.000015104028999735679,"w":0.00006796813049881055,"k":0.009190801646339161,"y":0.0009288977834837443,"x":0.0003624966959936563,"u":0.000030208057999471358,"j":0.0000075520144998678395},"r":{"e":0.18764000147964865,"l":0.011290541345904867,"r":0.016095289374067512,"o":0.08175058877686488,"u":0.022215280660580927,"$":0.28162646269435804,"a":0.0583556993189506,"y":0.025922622595057152,"s":0.05818718377647441,"i":0.0719027048799635,"t":0.04747617149128035,"k":0.00861895347737987,"w":0.0030168392238420724,"d":0.053867431699828605,"n":0.01586512180385613,"g":0.009851994032083715,"m":0.012503031224696981,"h":0.0009946527141277677,"v":0.00899297577897337,"p":0.0037689939622114173,"f":0.0037278926103879555,"c":0.012650996091261442,"b":0.0032716676051475335,"x":0.000004110135182346147,"j":0.0002671587868524996,"q":0.00012741419065273057,"z":0.000008220270364692295},"w":{"o":0.10654428936077771,"i":0.21923640905881714,"n":0.043056536142942484,"a":0.10585999022429805,"h":0.18597729864769455,"e":0.15887688046488893,"$":0.13204800955846413,"l":0.004138380492043665,"r":0.015543366100038017,"s":0.019497094444142726,"f":0.001183946125020366,"d":0.004833541519578558,"b":0.0010536034323575735,"t":0.0007603323738662901,"k":0.00031499484060174877,"m":0.0002715472763808179,"y":0.0003367186227122142,"v":0.000010861891055232717,"p":0.00004344756422093087,"w":0.00013034269266279258,"c":0.00016292836582849075,"g":0.00007603323738662901,"u":0.00004344756422093087},"o":{"n":0.10792077980827028,"l":0.03263247259454803,"w":0.055452275163751064,"$":0.14967497660699125,"f":0.06578547836379071,"t":0.06075985449858402,"r":0.12789004356366926,"o":0.037394731460653266,"k":0.008938917910678986,"u":0.17680466992619584,"s":0.02594610002912507,"h":0.002760684872934134,"v":0.018135003996951164,"c":0.00668327415366883,"a":0.005319972981849504,"p":0.011702701195367255,"m":0.0524839967032899,"i":0.007770816679370155,"d":0.022714456569562443,"z":0.00042138399856233693,"g":0.0035166973409430325,"x":0.0008551616441412132,"q":0.00009914917613231458,"e":0.0052796936290457515,"y":0.005391236452194605,"b":0.006835096329621436,"j":0.0008303743501081346},"h":{"e":0.3554548357776304,"a":0.18631521196190665,"o":0.10141990321074999,"i":0.13790830405908894,"t":0.02681766444755611,"$":0.1286510919497875,"u":0.01333922912521188,"y":0.026588383652279297,"r":0.009040214213771587,"l":0.000863897282203716,"b":0.0008802744818663457,"s":0.0031935539342127887,"n":0.0032672513326946224,"f":0.0006468993866738727,"j":0.000012282899746972265,"d":0.0035210979274653826,"m":0.0012733272737694582,"w":0.00035620409266219567,"p":0.00007369739848183359,"c":0.00015558339679498203,"q":0.000032754399325259374,"h":0.00012282899746972266,"v":0.000028660099409601953,"g":0.00002456579949394453,"k":0.000012282899746972265},"m":{"i":0.06851944804022579,"$":0.15951179563046522,"a":0.16573763418135065,"u":0.03592846009563311,"e":0.25361265949858663,"o":0.09361653413644008,"p":0.032511733988499374,"b":0.023159767169488987,"y":0.11876645620338326,"m":0.015296013526008507,"s":0.0168282566771458,"f":0.002721052492536919,"n":0.0050722531899717324,"h":0.00009686594633626573,"c":0.000052835970728872215,"l":0.0014706011852869433,"d":0.004165235692459426,"r":0.0020253788779401017,"g":0.00003522398048591481,"t":0.000325821819494712,"v":0.00008805995121478702,"w":0.00045791174631689254},"f":{"u":0.02912127198031921,"$":0.3283323436382806,"o":0.21587066907425137,"e":0.08463710508137717,"t":0.02400717427923943,"l":0.02600676224293176,"i":0.07010676587854624,"a":0.09542276137038429,"r":0.07436043481949174,"f":0.04619654131875856,"w":0.00016966200904056133,"y":0.002108656398075548,"p":0.00015754329410909266,"s":0.0024479804161566705,"k":0.000024237429862937335,"d":0.0005938170316419647,"g":0.000036356144794406,"h":0.000036356144794406,"n":0.000072712289588812,"m":0.000072712289588812,"b":0.000109068434383218,"c":0.000109068434383218},"p":{"t":0.02657198106287924,"e":0.18268653730746148,"i":0.0661799026471961,"y":0.011002200440088018,"l":0.07903247316129892,"$":0.08351670334066813,"o":0.1258084950323398,"p":0.03657398146295926,"b":0.0005501100220044008,"s":0.017136760685470428,"a":0.1257418150296726,"u":0.03859105154364206,"r":0.16374941654997666,"h":0.03509035140361406,"m":0.0003167300126692005,"n":0.00008335000333400013,"d":0.005551110222044409,"c":0.0005167700206708008,"k":0.0004167500166700007,"f":0.0003000600120024005,"w":0.0005001000200040008,"q":0.000016670000666800028,"v":0.000016670000666800028,"g":0.00005001000200040008},"b":{"b":0.007220444262269237,"i":0.03870347306522048,"e":0.33549841560120447,"y":0.07997666756002586,"a":0.07434850467437057,"o":0.09132758430420457,"u":0.15285901215494002,"l":0.09337705538301462,"r":0.09206854692500513,"$":0.009648279232551907,"j":0.004004351184751935,"m":0.0004887200264854724,"s":0.009979347637590452,"t":0.006337595182166448,"d":0.002396304645993284,"c":0.00009459097286815595,"h":0.0011666219987072567,"n":0.00014188645930223392,"k":0.000031530324289385314,"v":0.000031530324289385314,"w":0.00023647743217038988,"g":0.000047295486434077975,"f":0.000015765162144692657},"g":{"i":0.04686837268485791,"$":0.2599462745652481,"e":0.1404213205146331,"h":0.13599604128375511,"a":0.060879400537254345,"o":0.1279796408878835,"s":0.028106885338611623,"r":0.08050332249399124,"l":0.03651915735897073,"n":0.015311748904283896,"u":0.038314717941467555,"g":0.007719496677506009,"p":0.00029690371836561574,"c":0.0001696592676374947,"t":0.003110419906687403,"z":0.000014138272303124559,"f":0.00022621235684999294,"d":0.009034356001696593,"y":0.001597624770253075,"m":0.0033507705358405203,"b":0.003336632263537396,"w":0.00015552099533437013,"v":0.000042414816909373674,"k":0.0000706913615156228,"j":0.000028276544606249117},"y":{"$":0.6387296396713372,"c":0.001169360680505826,"e":0.04533601009996482,"t":0.0030527557588426435,"l":0.002442204607074115,"o":0.24367199950328042,"i":0.0066643210464225845,"s":0.030061882981145354,"b":0.0014487654448744748,"d":0.003363205497030031,"n":0.0005691578533435437,"w":0.0007140343978309911,"r":0.008537367800153154,"a":0.005722623507254176,"f":0.0006726410994060062,"v":0.00014487654448744748,"p":0.002111058219674235,"y":0.000031044973818738745,"m":0.004749880994267028,"z":0.000020696649212492498,"h":0.00047602293188732744,"g":0.00021731481673117122,"k":0.000041393298424984995,"x":0.000031044973818738745,"q":0.000010348324606246249,"u":0.000010348324606246249},"k":{"$":0.3023300333643275,"i":0.16993928786304216,"a":0.012716731389815676,"e":0.3063501613520757,"s":0.058907181534759066,"n":0.10485150139473828,"u":0.0006289996171306678,"y":0.002844172181808237,"t":0.000601651807690204,"o":0.003144998085653339,"l":0.013208991959744025,"j":0.000027347809440463818,"r":0.0013126948531422633,"w":0.0011759558059399441,"f":0.0017502598041896843,"b":0.0006563474265711317,"d":0.017940162992944264,"m":0.0005469561888092764,"c":0.0002734780944046382,"p":0.0002461302849641744,"h":0.00041021714160695727,"g":0.000027347809440463818,"v":0.00008204342832139146,"k":0.000027347809440463818},"q":{"u":0.9997362173568979,"$":0.0002637826431020839},"j":{"u":0.323248730964467,"a":0.09827411167512691,"e":0.28730964467005077,"o":0.2883248730964467,"c":0.0002030456852791878,"i":0.0026395939086294416},"x":{"t":0.16556413083425212,"c":0.10014700477765527,"e":0.2745314222712238,"$":0.10143329658213891,"i":0.20672546857772878,"p":0.06945975744211687,"a":0.042080117603822124,"x":0.001470047776552738,"g":0.0003675119441381845,"d":0.011760382212421904,"o":0.002021315692760015,"u":0.003675119441381845,"v":0.00018375597206909226,"s":0.000735023888276369,"y":0.0009187798603454612,"h":0.004777655273796398,"q":0.002205071664829107,"m":0.00018375597206909226,"l":0.000735023888276369,"f":0.010474090407938258,"b":0.00018375597206909226,"w":0.0003675119441381845},"z":{"e":0.47630193095377416,"i":0.037448800468110006,"z":0.0403744880046811,"l":0.022820362785254535,"a":0.192510239906378,"y":0.018724400234055003,"o":0.08133411351667642,"d":0.056173200702165006,"$":0.053832650672908135,"u":0.004095962551199532,"v":0.005851375073142188,"n":0.0005851375073142189,"m":0.0023405500292568754,"w":0.0076067875950848445}}');

/**
 * Contains utilities for generating random content.
 * @module Util
 */
module.exports = {
	/**
	 * Generates a random integer in the range [min, max)
	 *
	 * @type {integer}
	 * @param {integer} min - The inclusive lower bound of the range
	 * @param {integer} max - The exclusive upper bound of the range
	 * @return {integer} A random integer in the range [min, max)
	 */
	RandomInt:function(min, max) {
		return Math.floor(Math.random() * (max - min + 1)) + min;
	},
	/**
	 * Generates a random alphanumeric string of the given length
	 *
	 * @type {string}
	 * @param {integer} len - The length of the string to generate in characters
	 * @return {string} A random alphanumeric string of length len
	 */
	RandomString:function(len) {
		var str = "";
		var alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
		
		for(var i = 0; i < len; i++) {
			str += alphabet[Math.floor(Math.random() * alphabet.length)];
		}
		
		return str;
	},
	/**
	 * Generates a random, well-formed domain name with a valid TLD
	 *
	 * @return {string} A random well-formed domain name with a valid TLD
	 */
	RandomDomain:function() {
		var domain = "";
		domain += this.RandomName(4, 20).toLowerCase();
		domain += ".";
		domain += tlds[this.RandomInt(0, tlds.length)].toLowerCase();
		return domain;
	},
	/**
	 * Generates a random, well-formed email on a well-formed domain with a valid TLD
	 *
	 * @return {string} A random well-formed email on a random domain with a valid TLD
	 */
	RandomEmail:function() {
		var email = "";
		email += this.RandomName(4, 20).toLowerCase();
		email += "@";
		email += this.RandomDomain();
		return email;
	},
	/**
	 * Generates a random, pronouncable name with a variable length within the given range
	 * 
	 * @param {integer}	min - The minimum length of the generated name
	 * @param {integer} max - The maximum length of the generated name
	 * @return {string} A random pronouncable name of at least min and no more than max characters in length
	 */
	RandomName:function(min, max) {
		var name = "";
		while(name.length < min) {
			name = build_name('^', max);
		}
		return name.charAt(0).toUpperCase() + name.slice(1);
	},
	/**
	 * Generates a random phone number based on the given format
	 * 
	 * @param {string} format - A string with # placeholders to denote where a random digit should be inserted
	 * @return {string} A string that matches the provided format with # placeholders replaced with random digits
	 */
	RandomPhone:function(format = '###-###-####') {
		var ret = "";
		for(var i = 0; i < format.length; i++) {
			ret += format[i] == '#' ? this.RandomInt(0, 9) : format[i];
		}
		return ret;
	},
	FormatDate:function(date = new Date(), format = "F j Y") {
		var days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
		var dayabbrs = ["Sun", "Mon", "Tues", "Wed", "Thurs", "Fri", "Sat"];
		var months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
		var monthabbrs = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];

		var ret = "";
		for(var i = 0; i < format.length; i++) {
			switch(format[i]) {
				case 'j':
					ret += date.getDate();
					break;
				case 'd':
					ret += date.getDate().toString().length == '1' ? '0' + date.getDate() : date.getDate();
					break;
				case 'l':
					ret += days[date.getDay()];
					break;
				case 'D':
					ret += dayabbrs[date.getDay()];
					break;
				case 'F':
					ret += months[date.getMonth()];
					break;
				case 'M':
					ret += monthabbrs[date.getMonth()];
					break;
				case 'Y':
					ret += date.getFullYear();
					break;
				default:
					ret += format[i];
			}
		}
		return ret;
	},
	TLDS:tlds
};

/**
 * Recursive function to build a name based on a global probability table
 * 
 * @param  {string}	name - The current state of the name
 * @param  {integer} max - The maximum length of name
 * @return {string} The name with length no longer than max
 */
function build_name(name, max) {
	if(name.slice(-1) == '$' || name.length >= max) return name.replace(/[\^\$]?/g, '');

	var target = Math.random();
	var base = prob[name.slice(-1)];
	var total = 0;
	for(var key in base) {
		total += base[key];
		if(total >= target) {
			name += key;
			break;
		}
	}

	return build_name(name, max);
}